# PathFinding. Коновалов Евгений. Группа 165-2

### Актуальность решаемой задачи 
Задача поиска пути - это определение компьютерной программой наилучшего, оптимального маршрута между двумя точками.
С развитием робототехники, а так же сервисов связанных с различными картами и ориентированием на местности появилось острая необходимость в развитии алгоритмов поиска путей в различных условиях. Данное приложение предназначено для решения задач связанных с поиском пути.
### Реализованный функционал в проектной работе
* __Алгоритм Дейкстры__ — алгоритм на графах, изобретённый нидерландским учёным Эдсгером Дейкстрой в 1959 году. Находит кратчайшие пути от одной из вершин графа до всех остальных.  
* __A*__ - улучшение Алгоритм Дейкстры, путем введения эвристической функции.
* __Theta*__ - A* только соседней точкой может стать любая другая если до нее можно пройти по прямой. Это приводит к сглаживанию найденного пути.
* __Jump point search__ - оптимизация A*, где движение происходит не на соседние точки, а при помощи "прыжков" по одному из 8 направлений.
* Так же возможна визуализация найденного пути в bmp файл.
### Описание архитектуры проекта
При разработки проекта была предложен шаблон, в котором были реализованы функции парсинга xml файла и записи логов. Нужно было написать основной абстрактный класс ISearch - в котором реализуется основной алгоритм действий - создание нужных контейнеров (open, close), выбор вершины с наименьшим полем F, который равен сумме расстояния от этой точки до старта и значению эвристической функции с коэффициентом и добавления ее соседей в open, а ее самой в close.
Далее в классах Astar, Dijkstra, Theta и JPSearch перегружаются некоторые методы для корректной работы, но функция startSearch всегда одна.
### Обзор используемых технологических решений, и обоснование их выбора
Проектная работа написана на языке C++. Он совмещает в себе быстродействие и возможности для организации архитектуры проекта без лишних усилий. Для обработки xml файлов используется библиотека tinyxml2, т.к. она бесплатная и ее можно легко подключить путем добавления в исходники.
### План работы по реализации функциональности проекта
* A* на простых контейнерах без учета эвристики и других опций
* Поддержка опций 
* Оптимизация работы A* 
* Начало работы над Theta
* Оптимизация работы Theta*
* Реализация дополнительного функционала для JPS (Jump point Search)
* Предрелизный рефакторинг
* Сдача проекта
### Инструкция по запуску приложения
Программа работает через консольный интерфейс, при запуске принимает параметр с именем файла формата .xml (примеры таких фалов в папке examples). Так же вторым параметром можно указать 1 или 0. Если указан 0 или вообще ничнего не указано - программа не оставляет после работы себя файла img.bmp с визуализацией пути. В случае 1 - оставляет. В файле .xml нужно указать следующие тэги:
* __map__ - описание карты
    * __width, height__ - размеры карты
    * __cellsize__ - длина стороны клетки на карте
    * __startx, starty, finishx, finishy__ - координаты начала и конца пути, который нужно найти
    * __grid__ - информация о карте, где __1__ - непроходимая клетка, а __0__ - проходимая
* __algorithm__ - указания каким алгоритмом выполняется поиск
    *  __searchtype__ - тип поиска. Варианты: __astar, bfs, dijkstra, jp_search, theta__
    *  __metrictype__ - тип метрики для расчета длины пути. Варианты: __digonal, manhattan, euclid, chebyshev__
    *  __breakingties__ - как действовать если у нас есть равнозначные варианты. Варианты: __g-max, g-min__
    *  __hweight__ - вес эвристики
    * __cutcorners__ - движение по диагонали рядом с единицей
    * __allowsqueeze__ - проталкиваться через диагональ единиц
    * __allowdiagonal__ - разрешить или запретить движение по диагонали. Алгоритмы Theta* и JPS не радотают без включения этой опции в силу свой реализации.
* __opthions__ - дополнительные опции
    *   __logpath__ - место куда сохранить лог работы
    *   __logfilename__ - под каким именем

Далее в логе показывается найденный путь и записывается его представление в двух вариантах. __lppath__ - поклеточно, __hppath__ - по ключевым точкам, где меняется направление движения. В папке examples так же находятся логи и изображения, показывающие найденный путь.
### Инструкция по сборке
Проект не требует сторонних библиотек. В папке sources находится файл для сборки при помощи QT и CMAKE под соответствующими именами.
### Заключение
В ходе работы были реализованы все запланированные функции проекта. На тестировании проект показывает в 1000 тестах правильные (оптимальные) длины пути за время работы в рамках нормы. Тем самым гарантируется правильность предлагаемого пути и быстродействие работы. Таким образом, проект может использоваться как сторонний сервис для поиска путей на местности в приложениях связанных с ориентированием на местности и в программном обеспечении роботов.
